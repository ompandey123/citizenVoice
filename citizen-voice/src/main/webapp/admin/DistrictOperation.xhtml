<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <style>
            .deleteBtn {
            width: 70px;
            height: 35px;
            border: 1px solid red;
            background-color: white;
            color: red;
            border-radius: 10px;
        }

        .deleteBtn:hover {
            background-color: red;
            color: white;
        }
        .updateBtn {
            width: 70px;
            height: 35px;
            border: 1px solid green;
            background-color: white;
            color: green;
            border-radius: 10px;
            margin-left: 25px;
        }

        .updateBtn:hover {
            background-color: green;
            color: white;
        }
        </style>
    </h:head>
    <h:body>
               <div class="card">
                   <h:form>
                       <div class="input">
                           <p:outputLabel value="Select State &nbsp;" for="states"/>
                           <p:selectOneMenu id="states" value="#{districtBean.stateid}">
                            <f:selectItem itemLabel="---Select----" noSelectionOption="true" />
                            <f:selectItems value="#{districtBean.states}" var="s" itemLabel="#{s.stateName}" itemValue="#{s.stateId}"/>
                        </p:selectOneMenu>
                       </div><br/>
                        <div class="input">
                            <p:outputLabel value="Enter District Name &nbsp;" for="dname"/>
                        <p:inputText id="dname" value="#{districtBean.districtname}"/>
                        </div>
                       <h:commandButton style="margin-left: 5px; margin-top:15px; height: 40px; width: 135px; background-color: #3399ff; color: white;  font-weight: bold;  font-size: 20px;border: 1px solid white; border-radius: 10px; " id="add" value="Add" action="#{districtBean.addDistrict()}"/>
                   </h:form>
                 <h:form>   
                    <p:dataTable var="d" value="#{districtBean.districts}" paginator="true" rows="10">
                        <p:column headerText="District ID">
                            <h:outputText value="#{d.districtId}" />
                        </p:column>
                        
                        <p:column headerText="State ID">
                            <h:outputText value="#{d.stateId.stateName}" />
                        </p:column>

                        <p:column headerText="District Name">
                            <h:outputText value="#{d.districtName}" />
                        </p:column>

                        <p:column headerText="Actions">
                            <h:commandButton id="del" class="deleteBtn" value="Delete" action="#{districtBean.deleteDistrict(d)}" />
                               
                            <h:commandButton id="edit" class="updateBtn" value="Update" action="#{districtBean.redirectToedit()}" >
                                <f:setPropertyActionListener value="#{d}" target="#{districtBean.current}" />
                            </h:commandButton>
                           

                        </p:column>

                    
                        </p:dataTable>
                   
                </h:form>
                 </div>
            
    </h:body>
</html>
